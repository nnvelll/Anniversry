<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kita</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Segoe UI",sans-serif;
}

html,body{
  width:100%;
  height:100%;
  background:black;
  overflow:hidden;
}

/* ===== BACKGROUND ===== */
canvas{
  position:fixed;
  inset:0;
  z-index:1;
}

/* ===== LOVE RAIN ===== */
.love-container{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:5;
}

.love{
  position:absolute;
  top:-30px;
  animation:fall linear forwards;
  opacity:0.9;
}

@keyframes fall{
  to{
    transform:translateY(110vh);
    opacity:0;
  }
}

/* ===== PAGE ===== */
.page{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  color:white;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
  z-index:3;
  padding:20px;
}

.page.active{
  opacity:1;
  pointer-events:auto;
}

.card{
  background:rgba(0,0,0,0.55);
  padding:30px;
  border-radius:22px;
  max-width:480px;
  width:100%;
  box-shadow:0 30px 60px rgba(0,0,0,0.6);
}

/* ===== FOTO LOVE (ENDING) ===== */
.photo{
  width:220px;
  height:220px;
  margin:0 auto 20px;
  opacity:0;
  transform:scale(0.6);
  transition:1.8s ease;
}

.photo.show{
  opacity:1;
  transform:scale(1);
}

.photo img{
  width:100%;
  height:100%;
  object-fit:cover;
  clip-path:path(
    "M110 200
     C20 140 0 80 55 55
     C85 35 110 55 110 55
     C110 55 135 35 165 55
     C220 80 200 140 110 200 Z"
  );
}

/* ===== TEXT ===== */
p{
  line-height:1.7;
  font-size:15px;
}

.next{
  margin-top:22px;
  font-size:12px;
  letter-spacing:2px;
  opacity:0.75;
  cursor:pointer;
  animation:blink 1.5s infinite;
}

@keyframes blink{
  0%,100%{opacity:1;}
  50%{opacity:0.4;}
}

/* ===== MOBILE ===== */
@media(max-width:600px){
  p{font-size:14px;}
  .photo{width:190px;height:190px;}
}
</style>
</head>

<body>

<canvas id="sky"></canvas>
<div class="love-container" id="loveContainer"></div>

<!-- PAGE 1 -->
<div class="page active">
  <div class="card">
    <p id="t1"></p>
    <div class="next">Klik klikkk</div>
  </div>
</div>

<!-- PAGE 2 -->
<div class="page">
  <div class="card">
    <p id="t2"></p>
    <div class="next">Klikk klikkkk</div>
  </div>
</div>

<!-- PAGE 3 (ENDING) -->
<div class="page">
  <div class="card">
    <div class="photo" id="lovePhoto">
      <img src="poto.jpg" alt="Kita">
    </div>
    <p id="t3"></p>
  </div>
</div>

<script>
/* ===== STARS ===== */
const canvas=document.getElementById("sky");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

const stars=[...Array(160)].map(()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*1.3,
  o:Math.random()
}));

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle=`rgba(255,255,255,${s.o})`;
    ctx.fill();
  });
  requestAnimationFrame(animate);
}
animate();

/* ===== TYPE ===== */
function type(el,text,speed=45){
  let i=0;
  el.textContent="";
  const t=setInterval(()=>{
    el.textContent+=text[i++];
    if(i>=text.length) clearInterval(t);
  },speed);
}

/* ===== LOVE RAIN ===== */
const loveContainer=document.getElementById("loveContainer");
function startLoveRain(){
  setInterval(()=>{
    const love=document.createElement("div");
    love.className="love";
    love.textContent="❤️";
    love.style.left=Math.random()*100+"vw";
    love.style.fontSize=14+Math.random()*20+"px";
    love.style.animationDuration=4+Math.random()*3+"s";
    loveContainer.appendChild(love);
    setTimeout(()=>love.remove(),7000);
  },240);
}

/* ===== FLOW ===== */
const pages=document.querySelectorAll(".page");
let idx=0;

const texts=[
  "Hai sayang.",
  "Aku buat ini khusus untuk kamu.",
  "Happy anniversery yaaa sayangg.  Yeayyyy sudaaa tigaa bulann tidaa terasaa ternyata ya, aku harap bisa sampai seterusnyaaaa. terimakasii yaa sudaa sejauh inii sayangg, banyak moment moment yang telah berlaluu... ada yang menyenangkan dan juga sebaliknya untuk itu maaff yaa. Dan maaff juga karena akunya ngeselin (kalo tidaa gituu berarti bukan akuu hehehehe). Aku harapp kita nanti ga gini gini aja semoga bisa meet meet aku sangat sangat menginginkan ituuu.... apalagii yawww akuu tidaa bisaa menyusun kata. Maaff yaww kaloo itu berantakan penyusunan kata katanyaa I LOVEEEE YOUUUUU SAYANGGGGGG❤️❤️❤️❤️❤️❤️❤️❤️❤️❤️"
];

type(t1,texts[0]);

document.querySelectorAll(".next").forEach(btn=>{
  btn.onclick=()=>{
    pages[idx].classList.remove("active");
    idx++;
    pages[idx].classList.add("active");

    if(idx===1) type(t2,texts[1]);
    if(idx===2){
      type(t3,texts[2]);
      setTimeout(()=>{
        document.getElementById("lovePhoto").classList.add("show");
        startLoveRain();
      },1200);
    }
  };
});
</script>

</body>
</html>
